---
const { pathname } = Astro.url;
const isWelsh = pathname.startsWith('/cy');

const pathMap: Record<string, string> = {
  '/en/': '/cy/',
  '/en/contact': '/cy/cysylltu',
  '/en/gallery': '/cy/oriel',
  '/cy/': '/en/',
  '/cy/cysylltu': '/en/contact',
  '/cy/oriel': '/en/gallery',
};

const englishPath = pathMap[pathname] || '/en/';
const welshPath = pathMap[pathname] ? pathname : '/cy/';
---
<div class="language-switcher">
  <a href={englishPath} class:list={['lang-link', { 'is-active': !isWelsh }]}>English</a>
  <span> / </span>
  <a href={welshPath} class:list={['lang-link', { 'is-active': isWelsh }]}>Cymraeg</a>
</div>

<style>
.language-switcher {
  text-align: right;
  font-size: 0.9rem;
}
.language-switcher a {
  text-decoration: none;
  padding: 0.25rem;
}
.language-switcher a.is-active {
  font-weight: bold;
  text-decoration: underline;
  pointer-events: none;
  opacity: 0.6;
}
</style>