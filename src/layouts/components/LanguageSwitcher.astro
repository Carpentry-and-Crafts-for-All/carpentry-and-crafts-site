---
// LanguageSwitcher.astro
const { pathname } = Astro.url;
const isWelsh = pathname.startsWith('/cy');
const englishLink = pathname.replace(/^\/cy/, '') || '/';
const welshLink = pathname === '/' ? '/cy' : `/cy${pathname.replace(/^\/cy/, '')}`;
---
<div class="language-switcher flex gap-2 text-sm text-dark dark:text-white">
  <a href={englishLink} class:list={['lang-link', { 'is-active': !isWelsh }]}>English</a>
  <span> / </span>
  <a href={welshLink} class:list={['lang-link', { 'is-active': isWelsh }]}>Cymraeg</a>
</div>

<style>
.language-switcher {
  text-align: right;
  font-size: 0.9rem;
}
.language-switcher a {
  text-decoration: none;
  padding: 0.25rem;
}
.language-switcher a.is-active {
  font-weight: bold;
  text-decoration: underline;
  pointer-events: none;
  opacity: 0.6;
}
</style>